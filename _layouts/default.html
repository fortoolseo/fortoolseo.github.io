<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% if page.url contains "/categories/" %}
            Kategori: {{ page.title }} | {{ site.title }}
        {% elsif page.url contains "/tags/" %}
            Tag: {{ page.title }} | {{ site.title }}
        {% elsif page.title %}
            {{ page.title }} | {{ site.title | default: "FortoolSEO Blog" }}
        {% else %}
            {{ site.title | default: "FortoolSEO Blog" }} | {{ site.description | default: "SEO Tools & Tutorials" }}
        {% endif %}
    </title>
    <meta name="description" content="{{ page.description | default: site.description | default: 'Blog tentang SEO, Tools Gratis, dan tips digital marketing.' }}">
    
    <!-- SEO Meta Tags -->
    <meta property="og:title" content="{% if page.url contains '/categories/' %}Kategori: {{ page.title }}{% elsif page.url contains '/tags/' %}Tag: {{ page.title }}{% else %}{{ page.title | default: site.title }}{% endif %}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    {% if site.logo %}
    <meta property="og:image" content="{{ site.url }}{{ site.logo }}">
    {% endif %}
    
    <!-- CSS EKSTERNAL -->
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
</head>
<body>
    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- HEADER -->
    <header class="site-header">
        <div class="container header-container">
            <div class="header-brand">
                <div class="site-logo">
                    <a href="/" class="logo-text">
                        <span class="site-name">{{ site.title | default: "FortoolSEO" }}</span>
                    </a>
                </div>
                <p class="site-tagline">{{ site.description | default: "Blog tentang SEO dan tools gratis" }}</p>
            </div>

            <!-- Desktop Navigation -->
            <nav class="main-nav" aria-label="Main Navigation">
                <ul class="nav-list">
                    <li><a href="/" {% if page.url == "/" %}class="active"{% endif %}>Home</a></li>
                    <li><a href="/categories/" {% if page.url contains "/categories" %}class="active"{% endif %}>Categories</a></li>
                    <li><a href="/tags/" {% if page.url contains "/tags" %}class="active"{% endif %}>Tags</a></li>
                    <li><a href="/about/" {% if page.url contains "/about" %}class="active"{% endif %}>About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main id="main-content" class="main-wrapper container">
        <div class="content-layout">
            <!-- MAIN CONTENT AREA -->
            <div class="primary-content">
                {% if page.url == "/" or page.url contains "/blog/" %}
                <!-- HOMEPAGE & PAGINATION PAGES -->
                
                <!-- Hero Section -->
                <section class="hero-section">
                    <div class="hero-content">
                        <h1 class="hero-title">Panduan & Tools SEO Terbaru</h1>
                        <p class="hero-description">Temukan tutorial mendalam, analisis tools gratis, dan strategi untuk meningkatkan ranking website Anda.</p>
                    </div>
                </section>

                <!-- All Posts Grid with Pagination -->
                <section class="all-posts">
                    <h2 class="section-title"><span>üìö Artikel Terbaru</span></h2>
                    
                    <!-- Info Pagination -->
                    <div class="pagination-info">
                        {% if paginator %}
                        <p>Halaman {{ paginator.page }} dari {{ paginator.total_pages }} - Menampilkan {{ paginator.posts | size }} artikel</p>
                        {% endif %}
                    </div>
                    
                    <div class="posts-grid">
                        {% if paginator %}
                            {% for post in paginator.posts %}
                            {% include post-card.html post=post %}
                            {% endfor %}
                        {% else %}
                            <!-- Fallback jika paginator tidak aktif -->
                            {% for post in site.posts limit:8 %}
                            {% include post-card.html post=post %}
                            {% endfor %}
                        {% endif %}
                    </div>
                    
                    <!-- PAGINATION NAVIGATION -->
                    {% if paginator and paginator.total_pages > 1 %}
                    {% include pagination.html %}
                    {% endif %}
                </section>

                {% elsif page.url contains "/categories/" or page.url contains "/tags/" %}
                <!-- CATEGORY OR TAG PAGE -->
                
                {% if page.url contains "/categories/" %}
                    <!-- Category Header -->
                    {% assign category_name = page.title | default: page.name %}
                    <section class="page-header">
                        <div class="page-header-content">
                            <h1 class="page-title">üìÇ Kategori: {{ category_name }}</h1>
                            <p class="page-description">Artikel dalam kategori {{ category_name }}</p>
                            
                            {% comment %} Hitung total artikel dalam kategori {% endcomment %}
                            {% assign category_posts = site.categories[category_name] %}
                            <div class="page-stats">
                                <span class="stat-item">üìä Total Artikel: {{ category_posts | size }}</span>
                            </div>
                        </div>
                    </section>
                    
                    {% assign filtered_posts = site.categories[category_name] %}
                    
                {% elsif page.url contains "/tags/" %}
                    <!-- Tag Header -->
                    {% assign tag_name = page.title | default: page.name %}
                    <section class="page-header">
                        <div class="page-header-content">
                            <h1 class="page-title">üè∑Ô∏è Tag: {{ tag_name }}</h1>
                            <p class="page-description">Artikel dengan tag {{ tag_name }}</p>
                            
                            {% comment %} Hitung total artikel dengan tag {% endcomment %}
                            {% assign tag_posts = site.tags[tag_name] %}
                            <div class="page-stats">
                                <span class="stat-item">üìä Total Artikel: {{ tag_posts | size }}</span>
                            </div>
                        </div>
                    </section>
                    
                    {% assign filtered_posts = site.tags[tag_name] %}
                {% endif %}
                
                <!-- Articles Grid for Category/Tag -->
                <section class="all-posts">
                    {% if filtered_posts.size > 0 %}
                    <div class="posts-grid">
                        {% for post in filtered_posts %}
                        {% include post-card.html post=post %}
                        {% endfor %}
                    </div>
                    
                    <!-- No Pagination for Category/Tag (show all) -->
                    {% else %}
                    <div class="no-posts-message">
                        <div class="empty-state">
                            <span class="empty-icon">üì≠</span>
                            <h3>Tidak ada artikel ditemukan</h3>
                            <p>Belum ada artikel dalam {% if page.url contains "/categories/" %}kategori {{ category_name }}{% else %}tag {{ tag_name }}{% endif %}.</p>
                            <a href="/" class="btn btn-primary">Kembali ke Beranda</a>
                        </div>
                    </div>
                    {% endif %}
                </section>
                
                <!-- Back to Categories/Tags -->
                <div class="navigation-links">
                    {% if page.url contains "/categories/" %}
                    <a href="/categories/" class="nav-back">‚Üê Kembali ke Semua Kategori</a>
                    {% elsif page.url contains "/tags/" %}
                    <a href="/tags/" class="nav-back">‚Üê Kembali ke Semua Tags</a>
                    {% endif %}
                </div>

                {% else %}
                <!-- SINGLE ARTICLE PAGE -->
                <article class="single-post">
                    <header class="post-header">
                        <div class="post-meta">
                            <time datetime="{{ page.date | date_to_xmlschema }}" class="post-date">
                                {{ page.date | date: "%d %B %Y" }}
                            </time>
                            {% if page.categories.size > 0 %}
                            <span class="meta-separator">‚Ä¢</span>
                            <div class="post-categories">
                                {% for category in page.categories %}
                                <a href="/categories/{{ category | slugify }}/" class="category-badge">{{ category }}</a>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                        <h1 class="post-title">{{ page.title }}</h1>
                    </header>

                    <div class="post-content">
                        {{ content }}
                    </div>

                    {% if page.tags.size > 0 %}
                    <footer class="post-footer">
                        <div class="post-tags">
                            <strong>Tags:</strong>
                            {% for tag in page.tags %}
                            <a href="/tags/{{ tag | slugify }}/" class="post-tag">{{ tag }}</a>
                            {% endfor %}
                        </div>
                    </footer>
                    {% endif %}
                </article>
                {% endif %}
            </div>

            <!-- SIDEBAR -->
            <aside class="sidebar">
                <!-- About Widget -->
                <div class="sidebar-widget">
                    <div class="widget-header">
                        <h3 class="widget-title">üëã Tentang Blog</h3>
                    </div>
                    <div class="widget-content">
                        <p>Blog ini membahas tools SEO gratis, tutorial, dan strategi untuk meningkatkan performa website. Dibuat untuk membantu pemula dan profesional.</p>
                    </div>
                </div>

            <!-- Categories Widget -->
<div class="sidebar-widget">
    <div class="widget-header">
        <h3 class="widget-title">üìÇ Kategori</h3>
    </div>
    <div class="widget-content">
        <ul class="category-list">
            <!-- Kategori Test -->
            {% assign test_posts = site.posts | where_exp: "post", "post.categories contains 'Test'" %}
            <li>
                <a href="/categories/test/">
                    Test
                    <span class="category-count">({{ test_posts | size }})</span>
                </a>
            </li>
            
            <!-- Kategori Demo -->
            {% assign demo_posts = site.posts | where_exp: "post", "post.categories contains 'Demo'" %}
            <li>
                <a href="/categories/demo/">
                    Demo
                    <span class="category-count">({{ demo_posts | size }})</span>
                </a>
            </li>
            
            <!-- Tambah kategori lain nanti -->
            {% comment %}
            <!-- Contoh untuk kategori baru -->
            {% assign seo_posts = site.posts | where_exp: "post", "post.categories contains 'SEO'" %}
            {% if seo_posts.size > 0 %}
            <li>
                <a href="/categories/seo/">
                    SEO
                    <span class="category-count">({{ seo_posts | size }})</span>
                </a>
            </li>
            {% endif %}
            {% endcomment %}
        </ul>
    </div>
</div>

                <!-- Recent Posts Widget -->
                <div class="sidebar-widget">
                    <div class="widget-header">
                        <h3 class="widget-title">üïê Terbaru</h3>
                    </div>
                    <div class="widget-content">
                        <ul class="recent-posts-list">
                            {% for post in site.posts limit:5 %}
                            <li>
                                <a href="{{ post.url }}" class="recent-post-title">{{ post.title }}</a>
                                <span class="recent-post-date">{{ post.date | date: "%d %b" }}</span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
        <div class="footer-container container">
            <div class="footer-bottom">
                <div class="footer-copyright">
                    &copy; {{ site.time | date: "%Y" }} {{ site.title | default: "FortoolSEO Blog" }}. All rights reserved.
                </div>
                <div class="footer-credits">
                    Dibuat dengan ‚ù§Ô∏è menggunakan <a href="https://jekyllrb.com/" target="_blank" rel="noopener">Jekyll</a> & <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a>.
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Tambahkan styling untuk halaman aktif
        const currentPage = document.querySelector('.pagination .current-page');
        if (currentPage) {
            currentPage.style.fontWeight = 'bold';
            currentPage.style.color = '#fff';
            currentPage.style.backgroundColor = '#4285f4';
        }
    });
    </script>
</body>
</html>
